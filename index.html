<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ConnectButton</title><!-- titre de la page  -->
        <link rel="stylesheet" href="Style.css" /><!-- on fait el lien avec le fichier css  -->
    </head>
    
    <body>
        <button id="button"> Connect to Metamask</button>
        <script >
        document.getElementById('button').addEventListener('click', event => {
            let account;
            ethereum.request({method: 'eth_requestAccounts'}).then(accounts => {
                account = accounts[0];
                console.log(account);
                button.textContent = account;
                ethereum.request({method: 'eth_getBalance' , params: [account, 'latest']}).then(result => {
                let wei = parseInt(result,16); 
                let balance = wei / (10**18);
                console.log(balance + " ETH");
                });
            });
        });
        </script><!-- lien vers le script src ='App.js' -->
    </body>
</html>